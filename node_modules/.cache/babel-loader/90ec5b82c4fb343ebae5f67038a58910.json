{"ast":null,"code":"import _toConsumableArray from\"/Users/meetdhabaliya/Desktop/MERN APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/meetdhabaliya/Desktop/MERN APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Grid,Container,Grow,Paper,AppBar,TextField,Button}from'@material-ui/core';import Posts from'../Posts/Posts';import Form from'../Form/Form';import useStyles from'./styles';import{useDispatch}from'react-redux';import{getPosts,getPostsBySearch}from'../../actions/posts';import Pagination from'../Pagination';import ChipInput from'material-ui-chip-input';import{useLocation,useNavigate}from'react-router-dom';function useQuery(){return new URLSearchParams(useLocation().search);}var Home=function Home(){var classes=useStyles();var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentId=_useState2[0],setCurrentId=_useState2[1];var query=useQuery();var navigate=useNavigate();var page=query.get('page')||1;var searchQuery=query.get('searchQuery');var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var searchPost=function searchPost(){if(search.trim()||tags){dispatch(getPostsBySearch({search:search,tags:tags.join(',')}));navigate(\"/posts/search?searchQuery=\".concat(search||'none',\"&tags=\").concat(tags.join(',')));}else{navigate('/');}};var handleAdd=function handleAdd(tag){return setTags([].concat(_toConsumableArray(tags),[tag]));};var handleDelete=function handleDelete(tagToDelete){return setTags(tags.filter(function(tag){return tag!==tagToDelete;}));};return/*#__PURE__*/React.createElement(Grow,{in:true},/*#__PURE__*/React.createElement(Container,{maxWidth:\"xl\"},/*#__PURE__*/React.createElement(Grid,{className:classes.gridContainer,container:true,justifyContent:\"space-between\",alignItems:\"stretch\",spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:9},/*#__PURE__*/React.createElement(Posts,{setCurrentId:setCurrentId})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:3},/*#__PURE__*/React.createElement(AppBar,{className:classes.appBarSearch,position:\"static\",color:\"inherit\"},/*#__PURE__*/React.createElement(TextField,{name:\"search\",variant:\"outlined\",label:\"Search Memories\",fullWidth:true,value:search,onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/React.createElement(ChipInput,{style:{margin:'10px 0'},value:tags,onAdd:handleAdd,onDelete:handleDelete,label:\"Search Tags\",variant:\"outlined\"}),/*#__PURE__*/React.createElement(Button,{onClick:searchPost,variant:\"contained\",color:\"primary\"},\"Search\")),/*#__PURE__*/React.createElement(Form,{currentId:currentId,setCurrentId:setCurrentId}),!searchQuery&&!tags.length&&/*#__PURE__*/React.createElement(Paper,{className:classes.pagination,elevation:6},/*#__PURE__*/React.createElement(Pagination,{page:page}))))));};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Grid","Container","Grow","Paper","AppBar","TextField","Button","Posts","Form","useStyles","useDispatch","getPosts","getPostsBySearch","Pagination","ChipInput","useLocation","useNavigate","useQuery","URLSearchParams","search","Home","classes","dispatch","currentId","setCurrentId","query","navigate","page","get","searchQuery","setSearch","tags","setTags","searchPost","trim","join","handleAdd","tag","handleDelete","tagToDelete","filter","gridContainer","appBarSearch","e","target","value","margin","length","pagination"],"sources":["/Users/meetdhabaliya/Desktop/MERN APP/client/src/components/Home/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Grid, Container, Grow, Paper, AppBar, TextField, Button } from '@material-ui/core'\nimport Posts from '../Posts/Posts'\nimport Form from '../Form/Form'\nimport useStyles from './styles'\nimport { useDispatch } from 'react-redux'\nimport { getPosts, getPostsBySearch } from '../../actions/posts'\nimport Pagination from '../Pagination'\nimport ChipInput from 'material-ui-chip-input'\nimport { useLocation, useNavigate } from 'react-router-dom'\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search)\n}\n\nconst Home = () => {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [currentId, setCurrentId] = useState();\n    const query = useQuery();\n    const navigate = useNavigate();\n    const page = query.get('page') || 1;\n    const searchQuery = query.get('searchQuery')\n    const [search, setSearch] = useState('')\n    const [tags, setTags] = useState([])\n\n\n\n    const searchPost = () => {\n        if (search.trim() || tags) {\n            dispatch(getPostsBySearch({ search, tags: tags.join(',') }))\n            navigate(`/posts/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`)\n        } else {\n            navigate('/')\n        }\n    }\n\n    const handleAdd = (tag) => setTags([...tags, tag])\n\n    const handleDelete = (tagToDelete) => setTags(tags.filter((tag) => tag !== tagToDelete))\n\n    return (\n        <Grow in>\n            <Container maxWidth='xl'>\n                <Grid className={classes.gridContainer} container justifyContent='space-between' alignItems='stretch' spacing={3}>\n                    <Grid item xs={12} sm={6} md={9}>\n                        <Posts setCurrentId={setCurrentId}></Posts>\n                    </Grid>\n                    <Grid item xs={12} sm={6} md={3}>\n                        <AppBar className={classes.appBarSearch} position='static' color='inherit'>\n                            <TextField\n                                name='search'\n                                variant='outlined'\n                                label='Search Memories'\n                                fullWidth\n                                value={search}\n                                onChange={e => setSearch(e.target.value)}\n                            />\n                            <ChipInput\n                                style={{ margin: '10px 0' }}\n                                value={tags}\n                                onAdd={handleAdd}\n                                onDelete={handleDelete}\n                                label='Search Tags'\n                                variant='outlined'\n                            />\n                            <Button onClick={searchPost} variant=\"contained\" color='primary'>Search</Button>\n                        </AppBar>\n\n                        <Form currentId={currentId} setCurrentId={setCurrentId}></Form>\n                        {(!searchQuery && !tags.length) && (\n                            <Paper className={classes.pagination} elevation={6}>\n                                <Pagination page={page} />\n                            </Paper>\n                        )}\n                    </Grid>\n                </Grid>\n            </Container>\n        </Grow>\n    )\n}\n\nexport default Home\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}